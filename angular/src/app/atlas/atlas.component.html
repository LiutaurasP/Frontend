<div class="row">
  <div class="col-sm-12">
    <div class="content-header">Real Growth Nowcast</div>
    <p class="content-sub-header"></p>
  </div>
</div>

<div class="row">
	<div class="col-sm-12">
		<div class="card">
			<div class="card-header">
			</div>
			<div class="card-content">
				<div class="card-body">
					<div class="chart-info mb-3 ml-3">
					</div>
					<div id="line-area" *ngIf="countryList" class="height-650 lineArea">
    					<div [chart]="mapChart"></div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-sm-12">
		<section id="hoverable-rows">
			<div class="row text-left">
				<div class="col-sm-12">
					<div class="card">
						<div class="card-header">
							<div class="row justify-content-between">
								<div class="col-4">
									<div ngbDropdown>
										<h4 class="primary type-info">Country or region </h4>
										<button class="btn btn-outline-primary mr-1" id="dropdownCountry" ngbDropdownToggle>{{ countrySelected }}</button>
										<div ngbDropdownMenu aria-labelledby="dropdownCountry">
											<button class="dropdown-item" *ngFor="let stop_country of countryList" (click)="countrySelectorDrop(stop_country)" >{{stop_country}}</button>
										</div>
									</div>
								</div>
								<div class="col-3">
									<div ngbDropdown>
										<h4 class="danger type-info">Scenario </h4>
										<button class="btn btn-outline-danger mr-1" id="dropdownScenario" ngbDropdownToggle>{{ selectedScenario }}</button>
										<div ngbDropdownMenu aria-labelledby="dropdownScenario">
											<button class="dropdown-item" *ngFor="let stop_scenario of scenarionList" (click)="scenarioSelectorDrop(stop_scenario)" >{{stop_scenario}}</button>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="card-content" *ngIf="currentCountryDetailsQoQ">
							<div class="card-header">
								Data refreshed at <span class="primary text-bold-500">{{ refreshDate |  date:'yyyy-MM-dd HH:mm' }}</span> model version <span class="primary text-bold-500">0.37</span> next refresh due at 
								<span class="primary text-bold-500">{{ refreshDate_next |  date:'yyyy-MM-dd' }}</span>.
							</div>
							<div class="card-body" *ngIf="currentCountryDetailsQoQ[0].series">
								<table class="table table-sm">
									<thead>
										<tr *ngIf="currentCountryDetailsQoQ[0].series">
											<th>{{currentCountryDetailsQoQ[0].series_format}}</th>
											<th>{{currentCountryDetailsQoQ[0].series[0].stamp_tm2}}</th>
											<th>{{currentCountryDetailsQoQ[0].series[0].stamp_tm1}}</th>
											<th>{{currentCountryDetailsQoQ[0].series[0].stamp_tm0}}</th>
											<th>{{currentCountryDetailsQoQ[0].series[0].stamp_tp1}}</th>
											<th>{{currentCountryDetailsQoQ[0].series[0].stamp_tp2}}</th>
										</tr>
									</thead>
									<tbody>
										<tr *ngFor="let t_item_d of currentCountryDetailsQoQ">
											<th scope="row"><a (click)="GetDetails(content, t_item_d.series_name, t_item_d.series_format)" class="card-link primary">{{t_item_d.series_name}}</a></th>
											<td>{{t_item_d.series[0].value_tm2}}</td>
											<td>{{t_item_d.series[0].value_tm1}}</td>
											<td>{{t_item_d.series[0].value_tm0}}</td>
											<td>{{t_item_d.series[0].value_tp1}}</td>
											<td>{{t_item_d.series[0].value_tp2}}</td>
										</tr>
									</tbody>
								</table>
								<table class="table table-sm" *ngIf="currentCountryDetailsYoY[0].series">
									<thead>
										<tr *ngIf="currentCountryDetailsYoY[0].series">
											<th>{{currentCountryDetailsYoY[0].series_format}}</th>
											<th>{{currentCountryDetailsYoY[0].series[0].stamp_tm2}}</th>
											<th>{{currentCountryDetailsYoY[0].series[0].stamp_tm1}}</th>
											<th>{{currentCountryDetailsYoY[0].series[0].stamp_tm0}}</th>
											<th>{{currentCountryDetailsYoY[0].series[0].stamp_tp1}}</th>
											<th>{{currentCountryDetailsYoY[0].series[0].stamp_tp2}}</th>
										</tr>
									</thead>
									<tbody>
										<tr *ngFor="let t_item_d of currentCountryDetailsYoY">
											<th scope="row"><a (click)="GetDetails(content, t_item_d.series_name, t_item_d.series_format)" class="card-link primary">{{t_item_d.series_name}}</a></th>
											<td>{{t_item_d.series[0].value_tm2}}</td>
											<td>{{t_item_d.series[0].value_tm1}}</td>
											<td>{{t_item_d.series[0].value_tm0}}</td>
											<td>{{t_item_d.series[0].value_tp1}}</td>
											<td>{{t_item_d.series[0].value_tp2}}</td>
										</tr>
									</tbody>
								</table>
								<div class="row">
									<div class="col-5">
										<div *ngIf="flag_factors" [chart]="mapKey"></div>
									</div>
									<div class="col-7">
										<div *ngIf="flag_cycles" [chart]="cycleTracker"></div>
									</div>
								</div>

							</div>
						</div>
					</div>
				</div>
			</div>
			
			<ng-template #content let-c="close" let-d="dismiss">
				<div class="modal-header bg-primary">
					<h4 class="modal-title white">{{title}}</h4>
					<button type="button" class="close white" aria-label="Close" (click)="d('Cross click')">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" id="kbModal-body">
					<div *ngIf="modal_data_mean" [chart]="lineChart"></div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary btn-raised" (click)="c('Close click')">Close</button>
				</div>
			</ng-template>
		</section>
	</div>
	<div class="col-sm-12" *ngIf="curvePlotFlag">
		<div class="card">
			<div class="card-header">
			</div>
			<div class="card-content">
				<div class="card-header">
					Sovereign curves. Model version <span class="primary text-bold-500">0.11</span>
				</div>
				<div class="card-body">
					<div class="row">
						<div class="col-12">
							<div id="SovCurvePlot" *ngIf="curvePlotFlag" class="SovCurvePlot">
		    					<div [chart]="curvePlot"></div>
							</div>
						</div>
					</div>
					<div class="row justify-content-md-center">
						<div class="col-1">
						</div>
						<div class="col-3">
							<div ngbDropdown>
								<h4 class="success type-info">Future Point </h4>
								<button class="btn btn-outline-success mr-1" id="dropdownSector" ngbDropdownToggle>{{ selectedTimepoint }}</button>
								<div ngbDropdownMenu aria-labelledby="dropdownScenario">
									<button class="dropdown-item" *ngFor="let stop_timepoint of timepointList" (click)="timepointSelectorDrop(stop_timepoint)" >{{stop_timepoint}}</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--
	<div class="col-sm-12" *ngIf="flag_fx">
		<div class="card">
			<div class="card-header">
			</div>
			<div class="card-content">
				<div class="card-header">
					Exchange rate dynamics. Model version <span class="primary text-bold-500">0.10</span>
				</div>
				<div class="card-body">
					<div class="row">
						<div class="col-4">
							<div *ngIf="flag_fxPLOT" [chart]="lineChartFXPlot"></div>
						</div>
						<div class="col-4">
							<div *ngIf="flag_NEERPLOT" [chart]="lineChartNEERPlot"></div>
						</div>
						<div class="col-4">
							<div *ngIf="flag_REERPLOT" [chart]="lineChartREERPlot"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	-->
	<div class="col-sm-12" *ngIf="flag_VaR">
		<div class="card">
			<div class="card-header">
				
			</div>
			<div class="card-content">
				<div class="card-header">
					Extreme outcomes. Model version <span class="primary text-bold-500">0.01</span>
				</div>
				<div class="card-body">
					<div class="row">
						<div class="col-6">
							<div *ngIf="flag_VaRGrowthPLOT" [chart]="lineChartVaRGrowthDrivers"></div>
						</div>
						<div class="col-6">
							<div *ngIf="flag_VaRGrowthPLOT" [chart]="lineChartVaRGrowthQuantile"></div>
						</div>
					</div>
					<div class="row">
						<div class="col-6">
							<div *ngIf="flag_VaRInflationPLOT" [chart]="lineChartVaRInflationDrivers"></div>
						</div>
						<div class="col-6">
							<div *ngIf="flag_VaRInflationPLOT" [chart]="lineChartVaRInflationQuantile"></div>
						</div>
					</div>
					<div class="row">
						<div class="col-6">
							<div *ngIf="flag_VaREquitiesPLOT" [chart]="lineChartVaREquitiesDrivers"></div>
						</div>
						<div class="col-6">
							<div *ngIf="flag_VaREquitiesPLOT" [chart]="lineChartVaREquitiesQuantile"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-sm-12" *ngIf="flagGrowthSupplyDemand">
		<div class="card">
			<div class="card-header">
				
			</div>
			<div class="card-content">
				<div class="card-header">
					Growth supply demand shock decomposition. Model version <span class="primary text-bold-500">0.01</span>
				</div>
				<div class="card-body">
					<div class="row">
						<div class="col-12">
							<div *ngIf="flagGrowthSupplyDemand" [chart]="lineChartGrowthSupplyDemandPlot"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-sm-12" *ngIf="flagGrowthSupplyTriDemand">
		<div class="card">
			<div class="card-header">
				
			</div>
			<div class="card-content">
				<div class="card-header">
					Growth supply demand and long-term shocks decomposition. Model version <span class="primary text-bold-500">0.01</span>
				</div>
				<div class="card-body">
					<div class="row">
						<div class="col-12">
							<div *ngIf="flagGrowthSupplyTriDemand" [chart]="lineChartGrowthSupplyDemandTriPlot"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-sm-12" *ngIf="flag_income_table">
		<div class="card">
			<div class="card-header">
				<div class="row justify-content-between">
					<div class="col-4">
						<div ngbDropdown>
							<h4 class="primary type-info">Economy segment</h4>
							<button class="btn btn-outline-primary mr-1" id="dropdownIndustry" ngbDropdownToggle>{{ selectedIndustryGroup }}</button>
							<div ngbDropdownMenu aria-labelledby="dropdownIndustry">
								<button class="dropdown-item" *ngFor="let stop_industry of selectedIndustryGroupList" (click)="industrySelectorDrop(stop_industry)" >{{stop_industry}}</button>
							</div>
						</div>
					</div>
					<div class="col-6">
						<div ngbDropdown>
							<h4 class="danger type-info">Industry </h4>
							<button class="btn btn-outline-danger mr-1" id="dropdownScenario" ngbDropdownToggle>{{ selectedIndustrySector }}</button>
							<div ngbDropdownMenu aria-labelledby="dropdownScenario">
								<button class="dropdown-item" *ngFor="let stop_sector of selectedIndustrySectorList" (click)="sectorSelectorDrop(stop_sector)" >{{stop_sector}}</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="card-content">
				<div class="card-header">
				</div>
				<div class="card-body" *ngIf="data_income_table">
					<div class="row">
						<div class="col-12">
							<table class="table table-sm">
								<thead>
									<tr>
										<th>Measures QoQ or index</th>
										<th>{{data_income_table.data_columns[0]}}</th>
										<th>{{data_income_table.data_columns[1]}}</th>
										<th>{{data_income_table.data_columns[2]}}</th>
										<th>{{data_income_table.data_columns[3]}}</th>
										<th>{{data_income_table.data_columns[4]}}</th>
										<th>{{data_income_table.data_columns[5]}}</th>
										<th>{{data_income_table.data_columns[6]}}</th>
										<th>{{data_income_table.data_columns[7]}}</th>
										<th>{{data_income_table.data_columns[8]}}</th>
										<th>{{data_income_table.data_columns[9]}}</th>
										<th>{{data_income_table.data_columns[10]}}</th>
										<th>{{data_income_table.data_columns[11]}}</th>
										<th>{{data_income_table.data_columns[12]}}</th>
										<th>{{data_income_table.data_columns[13]}}</th>
										<th>{{data_income_table.data_columns[14]}}</th>
										<th>{{data_income_table.data_columns[15]}}</th>
										<th>{{data_income_table.data_columns[16]}}</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<th scope="row"><a>Previous Q</a></th>
										<td>{{data_income_table.data_last_q[0]}}</td>
										<td>{{data_income_table.data_last_q[1]}}</td>
										<td>{{data_income_table.data_last_q[2]}}</td>
										<td>{{data_income_table.data_last_q[3]}}</td>
										<td>{{data_income_table.data_last_q[4]}}</td>
										<td>{{data_income_table.data_last_q[5]}}</td>
										<td>{{data_income_table.data_last_q[6]}}</td>
										<td>{{data_income_table.data_last_q[7]}}</td>
										<td>{{data_income_table.data_last_q[8]}}</td>
										<td>{{data_income_table.data_last_q[9]}}</td>
										<td>{{data_income_table.data_last_q[10]}}</td>
										<td>{{data_income_table.data_last_q[11]}}</td>
										<td>{{data_income_table.data_last_q[12]}}</td>
										<td>{{data_income_table.data_last_q[13]}}</td>
										<td>{{data_income_table.data_last_q[14]}}</td>
										<td>{{data_income_table.data_last_q[15]}}</td>
										<td>{{data_income_table.data_last_q[16]}}</td>
									</tr>
									<tr>
										<th scope="row"><a>Current</a></th>
										<td>{{data_income_table.data_current[0]}}</td>
										<td>{{data_income_table.data_current[1]}}</td>
										<td>{{data_income_table.data_current[2]}}</td>
										<td>{{data_income_table.data_current[3]}}</td>
										<td>{{data_income_table.data_current[4]}}</td>
										<td>{{data_income_table.data_current[5]}}</td>
										<td>{{data_income_table.data_current[6]}}</td>
										<td>{{data_income_table.data_current[7]}}</td>
										<td>{{data_income_table.data_current[8]}}</td>
										<td>{{data_income_table.data_current[9]}}</td>
										<td>{{data_income_table.data_current[10]}}</td>
										<td>{{data_income_table.data_current[11]}}</td>
										<td>{{data_income_table.data_current[12]}}</td>
										<td>{{data_income_table.data_current[13]}}</td>
										<td>{{data_income_table.data_current[14]}}</td>
										<td>{{data_income_table.data_current[15]}}</td>
										<td>{{data_income_table.data_current[16]}}</td>
									</tr>
									<tr>
										<th scope="row"><a>Next Q Baseline</a></th>
										<td>{{data_income_table.data_baseline[0]}}</td>
										<td>{{data_income_table.data_baseline[1]}}</td>
										<td>{{data_income_table.data_baseline[2]}}</td>
										<td>{{data_income_table.data_baseline[3]}}</td>
										<td>{{data_income_table.data_baseline[4]}}</td>
										<td>{{data_income_table.data_baseline[5]}}</td>
										<td>{{data_income_table.data_baseline[6]}}</td>
										<td>{{data_income_table.data_baseline[7]}}</td>
										<td>{{data_income_table.data_baseline[8]}}</td>
										<td>{{data_income_table.data_baseline[9]}}</td>
										<td>{{data_income_table.data_baseline[10]}}</td>
										<td>{{data_income_table.data_baseline[11]}}</td>
										<td>{{data_income_table.data_baseline[12]}}</td>
										<td>{{data_income_table.data_baseline[13]}}</td>
										<td>{{data_income_table.data_baseline[14]}}</td>
										<td>{{data_income_table.data_baseline[15]}}</td>
										<td>{{data_income_table.data_baseline[16]}}</td>
									</tr>
									<tr>
										<th scope="row"><a>Next Q Consensus</a></th>
										<td>{{data_income_table.data_consensus[0]}}</td>
										<td>{{data_income_table.data_consensus[1]}}</td>
										<td>{{data_income_table.data_consensus[2]}}</td>
										<td>{{data_income_table.data_consensus[3]}}</td>
										<td>{{data_income_table.data_consensus[4]}}</td>
										<td>{{data_income_table.data_consensus[5]}}</td>
										<td>{{data_income_table.data_consensus[6]}}</td>
										<td>{{data_income_table.data_consensus[7]}}</td>
										<td>{{data_income_table.data_consensus[8]}}</td>
										<td>{{data_income_table.data_consensus[9]}}</td>
										<td>{{data_income_table.data_consensus[10]}}</td>
										<td>{{data_income_table.data_consensus[11]}}</td>
										<td>{{data_income_table.data_consensus[12]}}</td>
										<td>{{data_income_table.data_consensus[13]}}</td>
										<td>{{data_income_table.data_consensus[14]}}</td>
										<td>{{data_income_table.data_consensus[15]}}</td>
										<td>{{data_income_table.data_consensus[16]}}</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>	
</div>
